<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDI Interface Help - RGLR GNRTR</title>
    <link rel="stylesheet" href="tailwind.css">
</head>
<body class="help-body">
    <div class="help-container">
        <h1 class="help-h1">MIDI Interface Guide</h1>
        
        <div class="help-section">
            <h2 class="help-h2">Getting Started</h2>
            <p>This application supports Web MIDI API for real-time control of visual parameters. You can connect any MIDI device (keyboard, controller, etc.) to control the animation and visual effects.</p>
            
            <div class="help-note">
                <strong>Note:</strong> Web MIDI API requires HTTPS in most browsers. Make sure you're running the application over HTTPS or localhost.
            </div>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Connection</h2>
            <ol>
                <li>Connect your MIDI device to your computer</li>
                <li>Click the "Connect MIDI" button in the MIDI interface panel</li>
                <li>Allow MIDI access when prompted by your browser</li>
                <li>The status should change to "Connected" with a green indicator</li>
            </ol>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Control Change (CC) Mappings</h2>
            <p>These controls use continuous values (0-127) for smooth parameter control. Each parameter can be assigned to any MIDI channel (1-16) and CC number (0-127).</p>
            
            <div class="help-note">
                <strong>Note:</strong> MIDI channels are numbered 1-16 in the interface to match standard MIDI hardware conventions, but internally the system uses channels 0-15.
            </div>
            
            <div class="help-note">
                <strong>Dynamic Controls:</strong> You can add new CC controls using the "+ Add New CC Control" button. Each new control will be automatically numbered and can be removed using the × button.
            </div>
            
            <div class="help-note">
                <strong>No Default Mappings:</strong> This application does not include any pre-configured MIDI mappings. All mappings must be created manually by the user through the MIDI interface.
            </div>
            
            <div class="help-note">
                <strong>Available Parameters:</strong> The following parameters can be mapped to MIDI controls:
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Animation Parameters</h3>
                <ul>
                    <li><strong>Animation Speed:</strong> Global animation speed multiplier (0.01 - 2.01)</li>
                    <li><strong>Movement Amplitude:</strong> Intensity of movement animation (0 - 0.5)</li>
                    <li><strong>Rotation Amplitude:</strong> Intensity of rotation animation (0 - 2)</li>
                    <li><strong>Scale Amplitude:</strong> Intensity of scale animation (0 - 1)</li>
                    <li><strong>Randomness:</strong> Shape selection randomness (0 - 1)</li>
                    <li><strong>Cell Size:</strong> Size of individual grid cells (0.5 - 2)</li>
                    <li><strong>Movement Frequency:</strong> Speed of movement animation (0.1 - 2.1)</li>
                    <li><strong>Rotation Frequency:</strong> Speed of rotation animation (0.1 - 2.1)</li>
                    <li><strong>Scale Frequency:</strong> Speed of scale animation (0.1 - 2.1)</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Grid & Composition Parameters</h3>
                <ul>
                    <li><strong>Grid Width:</strong> Number of columns in the grid (1 - 30)</li>
                    <li><strong>Grid Height:</strong> Number of rows in the grid (1 - 30)</li>
                    <li><strong>Composition Width:</strong> Width of the composition area (10 - 100)</li>
                    <li><strong>Composition Height:</strong> Height of the composition area (10 - 100)</li>
                    <li><strong>Animation Type:</strong> Type of animation (0-3: Movement, Rotation, Scale, Combined)</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Sphere Material Parameters</h3>
                <ul>
                    <li><strong>Sphere Refraction:</strong> Refraction index for sphere materials (1 - 3)</li>
                    <li><strong>Sphere Transparency:</strong> Transparency level of sphere materials (0 - 1)</li>
                    <li><strong>Sphere Transmission:</strong> Light transmission through sphere materials (0 - 1)</li>
                    <li><strong>Sphere Roughness:</strong> Surface roughness of sphere materials (0 - 1)</li>
                    <li><strong>Sphere Metalness:</strong> Metallic appearance of sphere materials (0 - 1)</li>
                    <li><strong>Sphere Scale:</strong> Size scaling of sphere objects (0.1 - 3)</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Post-Processing Parameters</h3>
                <ul>
                    <li><strong>Bloom Strength:</strong> Intensity of bloom glow effect (0 - 2)</li>
                    <li><strong>Bloom Radius:</strong> Size of bloom glow effect (0 - 2)</li>
                    <li><strong>Bloom Threshold:</strong> Brightness threshold for bloom effect (0 - 1)</li>
                    <li><strong>Chromatic Aberration:</strong> Color separation effect intensity (0 - 1)</li>
                    <li><strong>Vignette Intensity:</strong> Darkening effect around edges (0 - 1)</li>
                    <li><strong>Vignette Radius:</strong> Size of vignette effect (0.1 - 1)</li>
                    <li><strong>Vignette Softness:</strong> Softness of vignette edges (0 - 1)</li>
                    <li><strong>Film Grain:</strong> Film grain noise effect intensity (0 - 0.5)</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Color Grading Parameters</h3>
                <ul>
                    <li><strong>Color Hue:</strong> Hue shift for color grading (-0.5 - 0.5)</li>
                    <li><strong>Color Saturation:</strong> Saturation level for color grading (0 - 3)</li>
                    <li><strong>Color Brightness:</strong> Brightness level for color grading (0 - 2)</li>
                    <li><strong>Color Contrast:</strong> Contrast level for color grading (0 - 2)</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Lighting Parameters</h3>
                <ul>
                    <li><strong>Ambient Light:</strong> Ambient light intensity (0 - 2)</li>
                    <li><strong>Directional Light:</strong> Directional light intensity (0 - 2)</li>
                    <li><strong>Point Light 1:</strong> First point light intensity (0 - 2)</li>
                    <li><strong>Point Light 2:</strong> Second point light intensity (0 - 2)</li>
                    <li><strong>Rim Light:</strong> Rim light intensity (0 - 2)</li>
                    <li><strong>Accent Light:</strong> Accent light intensity (0 - 2)</li>
                </ul>
            </div>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Preset Management</h2>
            <p>You can save and load custom MIDI mapping presets:</p>
            <ul>
                <li><strong>Save Preset:</strong> Exports your current MIDI mappings to a JSON file</li>
                <li><strong>Load Preset:</strong> Imports a previously saved preset file</li>
                <li><strong>Built-in Presets:</strong> Quick access to common mapping configurations</li>
            </ul>
            
            <div class="help-note">
                <strong>Preset File Format:</strong> Presets are saved as JSON files with the following structure:
                <pre class="help-pre">{
  "name": "Preset Name",
  "description": "Description",
  "version": "1.0",
  "created": "2024-01-15T10:30:00Z",
  "mappings": {
    "animationSpeed": { "channel": 0, "cc": 1 },
    "movementAmplitude": { "channel": 1, "cc": 2 },
    ...
  },
  "noteMappings": {
    "shapeCycling": 60,
    "sizeAnimation": 61,
    "showGrid": 62
  }
}</pre>
            </div>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Note Controls</h2>
            <p>These controls use MIDI notes as toggle switches:</p>
            
            <div class="help-note">
                <strong>Dynamic Controls:</strong> You can add new Note controls using the "+ Add New Note Control" button. Each new control will be automatically numbered and can be removed using the × button.
            </div>
            
            <div class="help-note">
                <strong>No Default Note Mappings:</strong> This application does not include any pre-configured MIDI note mappings. All note mappings must be created manually by the user through the MIDI interface.
            </div>
            
            <div class="help-note">
                <strong>Available Note Actions:</strong> The following toggle actions can be mapped to MIDI notes:
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Animation Toggles</h3>
                <ul>
                    <li><strong>Toggle Shape Cycling:</strong> Toggle shape cycling animation on/off</li>
                    <li><strong>Toggle Size Animation:</strong> Toggle size/movement/rotation animations on/off</li>
                    <li><strong>Reset Animation:</strong> Reset all animations to default values</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Display Toggles</h3>
                <ul>
                    <li><strong>Toggle Grid:</strong> Toggle grid line visibility on/off</li>
                    <li><strong>Toggle Basic Shapes:</strong> Toggle basic shape visibility on/off</li>
                    <li><strong>Toggle Triangles:</strong> Toggle triangle shape visibility on/off</li>
                    <li><strong>Toggle Rectangles:</strong> Toggle rectangle shape visibility on/off</li>
                    <li><strong>Toggle Ellipses:</strong> Toggle ellipse shape visibility on/off</li>
                    <li><strong>Toggle Refractive Spheres:</strong> Toggle refractive sphere visibility on/off</li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3 class="help-h3">Post-Processing Toggles</h3>
                <ul>
                    <li><strong>Toggle Bloom:</strong> Toggle bloom glow effect on/off</li>
                    <li><strong>Toggle Chromatic Aberration:</strong> Toggle color separation effect on/off</li>
                    <li><strong>Toggle Vignette:</strong> Toggle edge darkening effect on/off</li>
                    <li><strong>Toggle Film Grain:</strong> Toggle film grain noise effect on/off</li>
                    <li><strong>Toggle Color Grading:</strong> Toggle color grading effects on/off</li>
                    <li><strong>Toggle Post Processing:</strong> Toggle all post-processing effects on/off</li>
                </ul>
            </div>
            
            <div class="help-note">
                <strong>Note:</strong> Any other MIDI note will control cell size based on velocity (how hard you press the key).
            </div>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Post-Processing Effects</h2>
            <p>The application includes advanced post-processing effects that can be controlled via MIDI:</p>
            
            <h3 class="help-h3">Bloom Effect</h3>
            <ul>
                <li><strong>Bloom Strength:</strong> Controls the intensity of the glow effect around bright areas</li>
                <li><strong>Bloom Radius:</strong> Controls the size and spread of the bloom effect</li>
                <li><strong>Bloom Threshold:</strong> Sets the brightness level at which bloom begins</li>
            </ul>
            
            <h3 class="help-h3">Chromatic Aberration</h3>
            <ul>
                <li><strong>Chromatic Intensity:</strong> Controls the amount of color separation effect</li>
            </ul>
            
            <h3 class="help-h3">Vignette Effect</h3>
            <ul>
                <li><strong>Vignette Intensity:</strong> Controls the darkness of the edge effect</li>
                <li><strong>Vignette Radius:</strong> Controls the size of the vignette area</li>
                <li><strong>Vignette Softness:</strong> Controls the softness of the vignette edges</li>
            </ul>
            
            <h3 class="help-h3">Film Grain</h3>
            <ul>
                <li><strong>Grain Intensity:</strong> Controls the amount of film grain noise</li>
            </ul>
            
            <h3 class="help-h3">Color Grading</h3>
            <ul>
                <li><strong>Color Hue:</strong> Shifts the overall hue of the scene</li>
                <li><strong>Color Saturation:</strong> Controls the intensity of colors</li>
                <li><strong>Color Brightness:</strong> Adjusts the overall brightness</li>
                <li><strong>Color Contrast:</strong> Controls the contrast between light and dark areas</li>
            </ul>
            
            <h3 class="help-h3">FXAA Anti-Aliasing</h3>
            <ul>
                <li><strong>FXAA Enabled:</strong> Toggles fast approximate anti-aliasing for smoother edges</li>
            </ul>
        </div>

        <div class="help-section">
            <h2 class="help-h2">MIDI Learn Functionality</h2>
            <p>New controls feature a "Learn" button that automatically detects MIDI input:</p>
            <ol>
                <li>Click the "Learn" button on any control</li>
                <li>Send a MIDI CC or Note message from your device</li>
                <li>The system will automatically detect the channel and CC/Note number</li>
                <li>The control will be configured and ready to use</li>
            </ol>
            
            <div class="help-note">
                <strong>Note:</strong> The Learn function works for both CC and Note controls. For CC controls, it learns the CC number and channel. For Note controls, it learns the note number and channel.
            </div>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Special Controls</h2>
            <ul>
                <li><strong>Pitch Bend:</strong> Controls animation type (0-3: Movement, Rotation, Scale, Combined)</li>
                <li><strong>Aftertouch/Channel Pressure:</strong> Controls shape color intensity (grayscale)</li>
            </ul>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Tips for Performance</h2>
            <ul>
                <li>Use a MIDI controller with knobs/sliders for smooth CC control</li>
                <li>Map frequently used parameters to easily accessible controls</li>
                <li>Use velocity-sensitive keys for dynamic cell size control</li>
                <li>Experiment with different CC mappings to find your preferred setup</li>
                <li>Post-processing effects can be CPU intensive - disable unused effects for better performance</li>
                <li>Use FXAA for smoother visuals without significant performance impact</li>
            </ul>
        </div>

        <div class="help-section">
            <h2 class="help-h2">Troubleshooting</h2>
            <div class="help-warning">
                <strong>MIDI not connecting?</strong>
                <ul>
                    <li>Make sure your MIDI device is properly connected and recognized by your OS</li>
                    <li>Try refreshing the page and reconnecting</li>
                    <li>Check that your browser supports Web MIDI API (Chrome, Edge, Firefox)</li>
                    <li>Ensure you're running over HTTPS or localhost</li>
                </ul>
            </div>
            
            <div class="help-warning">
                <strong>Performance issues?</strong>
                <ul>
                    <li>Disable post-processing effects if experiencing lag</li>
                    <li>Reduce the number of active shapes or grid size</li>
                    <li>Lower animation frequencies for smoother performance</li>
                    <li>Close other browser tabs to free up resources</li>
                </ul>
            </div>
        </div>

        <a href="index.html" class="back-link">← Back to Application</a>
    </div>
</body>
</html> 