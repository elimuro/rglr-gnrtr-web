<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>General Setup Guide - RGLR GNRTR</title>
    <link rel="stylesheet" href="tailwind.css">
    <!-- Include the HelpSidebar component inline -->
</head>

<body class="help-body">
    <div class="help-container">
        <div class="help-layout">
            <!-- Sidebar Navigation - Generated by HelpSidebar component -->
            <div id="help-sidebar-container"></div>

            <!-- Main Content -->
            <div class="help-main-content">
                <h1 class="help-h1">üîß General Setup Guide</h1>

                <!-- Getting Started Section -->
                <div id="getting-started" class="help-section">
                    <h2 class="help-h2">Getting Started</h2>
                    <p>This guide covers the essential setup steps to get your MIDI controllers and audio devices working with the visual generator. Follow these steps to connect your hardware and start creating responsive visuals.</p>

                    <div class="help-note">
                        <strong>Quick Start:</strong> Connect your MIDI controller ‚Üí Click "Connect MIDI" ‚Üí Add CC controls ‚Üí Start creating!
                    </div>
                </div>

                <!-- Browser Requirements Section -->
                <div id="browser-requirements" class="help-section">
                    <h2 class="help-h2">Browser Requirements</h2>
                    
                    <h3 class="help-h3">Supported Browsers</h3>
                    <ul>
                        <li><strong>‚úÖ Chrome/Chromium</strong> - Best performance and full feature support</li>
                        <li><strong>‚úÖ Microsoft Edge</strong> - Excellent compatibility</li>
                        <li><strong>‚úÖ Firefox</strong> - Good support with some limitations</li>
                        <li><strong>‚ùå Safari</strong> - Limited MIDI support</li>
                        <li><strong>‚ùå Internet Explorer</strong> - Not supported</li>
                    </ul>

                    <h3 class="help-h3">Protocol Requirements</h3>
                    <div class="help-warning">
                        <strong>HTTPS Required:</strong> MIDI access requires a secure connection (HTTPS) or localhost. The app will not work over plain HTTP from a remote server.
                    </div>

                    <ul>
                        <li><strong>‚úÖ https://your-domain.com</strong> - Secure connection</li>
                        <li><strong>‚úÖ http://localhost</strong> - Local development</li>
                        <li><strong>‚úÖ http://127.0.0.1</strong> - Local IP</li>
                        <li><strong>‚ùå http://your-domain.com</strong> - Insecure connection blocked</li>
                    </ul>

                    <h3 class="help-h3">Hardware Requirements</h3>
                    <ul>
                        <li><strong>MIDI Controller:</strong> Any USB MIDI device (keyboards, control surfaces, drum machines)</li>
                        <li><strong>Audio Input:</strong> Built-in microphone, USB microphone, or audio interface</li>
                        <li><strong>Graphics:</strong> WebGL-capable graphics card (most modern computers)</li>
                        <li><strong>RAM:</strong> 4GB+ recommended for smooth performance</li>
                    </ul>
                </div>

                <!-- MIDI Setup Section -->
                <div id="midi-setup" class="help-section">
                    <h2 class="help-h2">üéπ MIDI Controller Setup</h2>
                    
                    <h3 class="help-h3">Step 1: Connect Your MIDI Controller</h3>
                    <ol>
                        <li><strong>Physical Connection:</strong> Connect your MIDI controller to your computer via USB</li>
                        <li><strong>Power On:</strong> Turn on your MIDI controller (if it has a power switch)</li>
                        <li><strong>Driver Installation:</strong> Most USB MIDI controllers are plug-and-play, but check manufacturer instructions if needed</li>
                        <li><strong>Verify Connection:</strong> Your operating system should recognize the device</li>
                    </ol>

                    <h3 class="help-h3">Step 2: Connect in the App</h3>
                    <ol>
                        <li><strong>Open MIDI Panel:</strong> Click the MIDI icon in the left sidebar to open the MIDI drawer</li>
                        <li><strong>Click "Connect MIDI":</strong> This will request MIDI access from your browser</li>
                        <li><strong>Grant Permission:</strong> Allow MIDI access when your browser prompts you</li>
                        <li><strong>Select Device:</strong> If you have multiple MIDI devices, select your controller from the dropdown</li>
                        <li><strong>Verify Connection:</strong> You should see a green "Connected" status</li>
                    </ol>

                    <div class="help-note">
                        <strong>Device Selection:</strong> If you have multiple MIDI devices, the app will show a device selection dialog. Choose your main controller for the best experience.
                    </div>

                    <h3 class="help-h3">Step 3: Test Your Connection</h3>
                    <ul>
                        <li><strong>MIDI Activity:</strong> Move knobs or press keys - you should see activity in the MIDI activity stream</li>
                        <li><strong>Test CC Values:</strong> Use the "Test CC Values" button to verify all your knobs are working</li>
                        <li><strong>Check Channels:</strong> Make sure your controller is sending on the expected MIDI channels</li>
                    </ul>

                    <h3 class="help-h3">Common MIDI Controller Types</h3>
                    
                    <div class="help-section">
                        <h4 class="help-h4">Control Surfaces</h4>
                        <ul>
                            <li><strong>Novation Launch Control XL:</strong> 8 rotary encoders, 16 buttons - excellent for live control</li>
                            <li><strong>Arturia BeatStep Pro:</strong> 16 encoders, 16 pads - comprehensive control</li>
                            <li><strong>Akai MPK Mini:</strong> 8 pads, 4 knobs - compact and portable</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4 class="help-h4">MIDI Keyboards</h4>
                        <ul>
                            <li><strong>Keys:</strong> Use for triggering effects and toggles</li>
                            <li><strong>Mod Wheel:</strong> Great for continuous control of effects</li>
                            <li><strong>Pitch Bend:</strong> Can be mapped to any continuous parameter</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4 class="help-h4">Drum Machines</h4>
                        <ul>
                            <li><strong>Pads:</strong> Perfect for triggering morphing and effects</li>
                            <li><strong>Knobs:</strong> Use for real-time parameter control</li>
                            <li><strong>Sequence Triggers:</strong> Can create rhythmic visual patterns</li>
                        </ul>
                    </div>
                </div>

                <!-- Audio Setup Section -->
                <div id="audio-setup" class="help-section">
                    <h2 class="help-h2">üé§ Audio Input Setup</h2>
                    
                    <h3 class="help-h3">Step 1: Connect Audio Input</h3>
                    <ol>
                        <li><strong>Built-in Microphone:</strong> Most laptops have built-in mics that work automatically</li>
                        <li><strong>USB Microphone:</strong> Connect via USB - no additional drivers needed</li>
                        <li><strong>Audio Interface:</strong> Connect via USB, Thunderbolt, or FireWire</li>
                        <li><strong>Headphone Jack:</strong> Some controllers have audio outputs that can be connected</li>
                    </ol>

                    <h3 class="help-h3">Step 2: Configure Audio in the App</h3>
                    <ol>
                        <li><strong>Open Audio Panel:</strong> Click the audio icon in the left sidebar</li>
                        <li><strong>Select Input Device:</strong> Choose your audio input from the dropdown</li>
                        <li><strong>Adjust Input Level:</strong> Use the input gain slider to set appropriate levels</li>
                        <li><strong>Test Audio:</strong> Speak or play music - you should see the audio level meter moving</li>
                    </ol>

                    <div class="help-note">
                        <strong>Audio Levels:</strong> Aim for audio levels that peak around -12dB to -6dB. Too quiet and the app won't respond; too loud and you'll get distortion.
                    </div>
                </div>

                <!-- MIDI Learn Section -->
                <div id="midi-learn" class="help-section">
                    <h2 class="help-h2">üéØ MIDI Learn System</h2>
                    
                    <h3 class="help-h3">How MIDI Learn Works</h3>
                    <p>The MIDI Learn system allows you to assign any MIDI controller knob, fader, or button to any parameter in the app. This creates a custom control surface tailored to your workflow.</p>

                    <h3 class="help-h3">Step 1: Enable MIDI Learn</h3>
                    <ol>
                        <li><strong>Open MIDI Panel:</strong> Click the MIDI icon in the left sidebar</li>
                        <li><strong>Click "MIDI Learn":</strong> This enables learning mode</li>
                        <li><strong>Verify Status:</strong> You should see "MIDI Learn: ON" in green</li>
                    </ol>

                    <h3 class="help-h3">Step 2: Assign a Parameter</h3>
                    <ol>
                        <li><strong>Select Parameter:</strong> Click on any parameter you want to control (e.g., grid size, animation speed)</li>
                        <li><strong>Move Controller:</strong> Move a knob or fader on your MIDI controller</li>
                        <li><strong>Verify Assignment:</strong> The parameter should now respond to your controller</li>
                        <li><strong>Test Range:</strong> Move the controller through its full range to ensure proper mapping</li>
                    </ol>

                    <h3 class="help-h3">Step 3: Fine-tune Mapping</h3>
                    <ul>
                        <li><strong>Min/Max Values:</strong> Adjust the minimum and maximum values for the parameter</li>
                        <li><strong>Curve:</strong> Choose linear, exponential, or logarithmic response curves</li>
                        <li><strong>Invert:</strong> Reverse the direction if needed</li>
                    </ul>

                    <div class="help-warning">
                        <strong>MIDI Learn Tips:</strong> You can assign multiple parameters to the same controller, or use different controllers for different parameter groups. The assignments are saved automatically.
                    </div>
                </div>

                <!-- MIDI Clock Section -->
                <div id="midi-clock" class="help-section">
                    <h2 class="help-h2">‚è±Ô∏è MIDI Clock Synchronization</h2>
                    
                    <h3 class="help-h3">What is MIDI Clock?</h3>
                    <p>MIDI Clock is a timing signal that keeps your visual generator synchronized with external devices like drum machines, sequencers, or DAWs. This ensures your visuals are perfectly in time with your music.</p>

                    <h3 class="help-h3">Step 1: Enable MIDI Clock</h3>
                    <ol>
                        <li><strong>Open MIDI Panel:</strong> Click the MIDI icon in the left sidebar</li>
                        <li><strong>Check "MIDI Clock":</strong> Enable MIDI clock reception</li>
                        <li><strong>Start External Device:</strong> Start your drum machine, sequencer, or DAW</li>
                        <li><strong>Verify Sync:</strong> The app should show "Clock: SYNC" when receiving MIDI clock</li>
                    </ol>

                    <h3 class="help-h3">Step 2: Configure Clock Response</h3>
                    <ul>
                        <li><strong>BPM Display:</strong> The app will show the detected BPM from your external device</li>
                        <li><strong>Auto-start:</strong> Animations can automatically start when clock is detected</li>
                        <li><strong>Quantization:</strong> Visual changes can be quantized to musical beats</li>
                    </ul>

                    <div class="help-note">
                        <strong>Clock Sources:</strong> Common MIDI clock sources include Ableton Live, Logic Pro, FL Studio, hardware sequencers, and drum machines like the Roland TR-8 or Arturia DrumBrute.
                    </div>
                </div>

                <!-- Troubleshooting Section -->
                <div id="troubleshooting" class="help-section">
                    <h2 class="help-h2">üîß Troubleshooting</h2>
                    
                    <h3 class="help-h3">Common MIDI Issues</h3>
                    
                    <div class="help-section">
                        <h4 class="help-h4">"No MIDI devices found"</h4>
                        <ul>
                            <li><strong>Check USB Connection:</strong> Ensure your controller is properly connected</li>
                            <li><strong>Restart Browser:</strong> Sometimes browsers need to be restarted to detect new devices</li>
                            <li><strong>Check Device Manager:</strong> Verify the device appears in your system's device manager</li>
                            <li><strong>Try Different USB Port:</strong> Some ports may have power or compatibility issues</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4 class="help-h4">"MIDI access denied"</h4>
                        <ul>
                            <li><strong>Check HTTPS:</strong> Ensure you're using HTTPS or localhost</li>
                            <li><strong>Clear Permissions:</strong> Clear browser permissions for the site and try again</li>
                            <li><strong>Check Browser Settings:</strong> Ensure MIDI access is allowed in browser settings</li>
                            <li><strong>Try Different Browser:</strong> Some browsers have better MIDI support than others</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4 class="help-h4">"Controller not responding"</h4>
                        <ul>
                            <li><strong>Check MIDI Learn:</strong> Ensure MIDI Learn mode is enabled</li>
                            <li><strong>Verify Channel:</strong> Check that your controller is sending on the expected MIDI channel</li>
                            <li><strong>Test with MIDI Monitor:</strong> Use a MIDI monitor app to verify signals are being sent</li>
                            <li><strong>Check Parameter Selection:</strong> Make sure you've selected a parameter before moving the controller</li>
                        </ul>
                    </div>

                    <h3 class="help-h3">Common Audio Issues</h3>
                    
                    <div class="help-section">
                        <h4 class="help-h4">"No audio input detected"</h4>
                        <ul>
                            <li><strong>Check Device Selection:</strong> Ensure the correct audio input is selected</li>
                            <li><strong>Check System Audio:</strong> Verify your system recognizes the audio input</li>
                            <li><strong>Check Input Levels:</strong> Ensure the input gain is not set to zero</li>
                            <li><strong>Test with Other Apps:</strong> Try recording in other applications to verify the input works</li>
                        </ul>
                    </div>

                    <h3 class="help-h3">Performance Issues</h3>
                    <ul>
                        <li><strong>Reduce Grid Size:</strong> Smaller grids require less processing power</li>
                        <li><strong>Limit Animations:</strong> Use fewer simultaneous animations</li>
                        <li><strong>Check Browser Performance:</strong> Close other tabs and applications</li>
                        <li><strong>Update Graphics Drivers:</strong> Ensure your graphics drivers are up to date</li>
                    </ul>

                    <div class="help-note">
                        <strong>Getting Help:</strong> If you're still experiencing issues, check the browser console for error messages, and refer to the main help page for additional troubleshooting steps.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load the HelpSidebar component inline -->
    <script>
        // HelpSidebar component - inline version for HTML compatibility
        class HelpSidebar {
            constructor(currentPage, sections = []) {
                this.currentPage = currentPage;
                this.sections = sections;
                this.sidebar = null;
            }

            generate() {
                const helpPages = [
                    { name: 'Main Help', url: 'help.html', icon: 'üéµ' },
                    { name: 'General Setup', url: 'help-general-setup.html', icon: 'üîß' },
                    { name: 'Parameters', url: 'help-parameters.html', icon: 'üìä' },
                    { name: 'Animations', url: 'help-animations.html', icon: 'üé¨' },
                    { name: 'Presets & Scenes', url: 'help-presets-scenes.html', icon: 'üíæ' },
                    { name: 'P5 Layer', url: 'help-p5-layer.html', icon: 'üé®' }
                ];

                let sidebarHTML = `
                    <div class="help-sidebar">
                        <div class="nav-section">
                            <div class="nav-section-title">üìö Help Pages</div>
                            ${helpPages.map(page => {
                                const isActive = this.currentPage === page.url;
                                return `
                                    <a href="${page.url}" class="nav-item ${isActive ? 'active' : ''}" target="_blank">
                                        ${page.icon} ${page.name}
                                    </a>
                                `;
                            }).join('')}
                        </div>
                `;

                if (this.sections.length > 0) {
                    sidebarHTML += `
                        <div class="nav-section">
                            <div class="nav-section-title">üìñ Page Sections</div>
                            ${this.sections.map(section => {
                                return `
                                    <a href="#${section.id}" class="nav-item">
                                        ${section.title}
                                    </a>
                                `;
                            }).join('')}
                        </div>
                    `;
                }

                sidebarHTML += '</div>';
                return sidebarHTML;
            }

            init() {
                // Add smooth scrolling for anchor links
                const anchorLinks = document.querySelectorAll('.nav-item[href^="#"]');
                anchorLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('href').substring(1);
                        const targetElement = document.getElementById(targetId);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
            }
        }
    </script>
    <script>
        // Initialize the HelpSidebar component
        document.addEventListener('DOMContentLoaded', function() {
            // Define the sections for this page
            const pageSections = [
                { id: 'getting-started', title: 'Getting Started' },
                { id: 'browser-requirements', title: 'Browser Requirements' },
                { id: 'midi-setup', title: 'MIDI Setup' },
                { id: 'audio-setup', title: 'Audio Setup' },
                { id: 'midi-learn', title: 'MIDI Learn' },
                { id: 'midi-clock', title: 'MIDI Clock Sync' },
                { id: 'troubleshooting', title: 'Troubleshooting' }
            ];

            // Create and initialize the sidebar
            const sidebar = new HelpSidebar('help-general-setup.html', pageSections);
            document.getElementById('help-sidebar-container').innerHTML = sidebar.generate();
            sidebar.init();
        });
    </script>
</body>
</html>
